<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>{% block title %}technosham{% endblock %}</title>
  <!-- TailwindCSS via CDN for dev; swap to compiled build in prod -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          container: { center: true, padding: '1rem' },
          colors: { brand: { DEFAULT: '#0ea5e9' } }
        }
      }
    }
  </script>
</head>
<body class="min-h-screen flex flex-col bg-gray-50 text-gray-900">
  <!-- Header -->
  <header class="border-b bg-white/80 backdrop-blur sticky top-0 z-50">
    <div class="container mx-auto flex items-center justify-between py-3">
      <a href="/" class="text-xl font-semibold text-gray-900">technosham</a>
      <!-- Menu button -->
      <button id="menuBtn" class="p-2 rounded hover:bg-gray-100" aria-label="open menu" aria-expanded="false" aria-controls="mobileMenuOverlay">
        <span class="grid grid-cols-3 gap-0.5 w-6 h-6">
          <span class="bg-gray-800"></span>
          <span class="bg-gray-800"></span>
          <span class="bg-gray-800"></span>
          <span class="bg-gray-800"></span>
          <span class="bg-gray-800"></span>
          <span class="bg-gray-800"></span>
          <span class="bg-gray-800"></span>
          <span class="bg-gray-800"></span>
          <span class="bg-gray-800"></span>
        </span>
      </button>
    </div>
  </header>

  <!-- Overlay Menu -->
  <div id="mobileMenuOverlay" class="hidden fixed inset-0 z-[60]" aria-hidden="true">
    <!-- Backdrop -->
    <button id="backdrop" class="absolute inset-0 bg-black/40" aria-label="close menu (backdrop)"></button>
    <!-- Panel -->
    <nav class="absolute top-0 right-0 h-full w-80 max-w-full bg-white shadow-xl overflow-y-auto">
      <div class="flex items-center justify-between px-4 py-3 border-b">
        <span class="text-lg font-semibold">القائمة</span>
        <button id="closeMenu" class="p-2 rounded hover:bg-gray-100" aria-label="close menu">✕</button>
      </div>
      <ul class="p-4 space-y-2 text-right">
        <li><a href="/" class="block px-3 py-2 hover:bg-gray-100 rounded">الرئيسية</a></li>
        <li>
          <details class="group">
            <summary class="cursor-pointer px-3 py-2 hover:bg-gray-100 rounded flex items-center justify-between">
              خدماتنا
              <span class="transition-transform group-open:rotate-180">▾</span>
            </summary>
            <ul class="mt-1 mr-4 space-y-1">
              <li><a href="/services#web" class="block px-3 py-2 hover:bg-gray-50 rounded">تطوير مواقع</a></li>
              <li><a href="/services#mobile" class="block px-3 py-2 hover:bg-gray-50 rounded">تطبيقات موبايل</a></li>
              <li><a href="/services#cloud" class="block px-3 py-2 hover:bg-gray-50 rounded">حلول سحابية</a></li>
            </ul>
          </details>
        </li>
        <li>
          <details class="group">
            <summary class="cursor-pointer px-3 py-2 hover:bg-gray-100 rounded flex items-center justify-between">
              منتجاتنا
              <span class="transition-transform group-open:rotate-180">▾</span>
            </summary>
            <ul class="mt-1 mr-4 space-y-1">
              <li><a href="/products#saas1" class="block px-3 py-2 hover:bg-gray-50 rounded">منتج SaaS 1</a></li>
              <li><a href="/products#saas2" class="block px-3 py-2 hover:bg-gray-50 rounded">منتج SaaS 2</a></li>
            </ul>
          </details>
        </li>
        <li><a href="/offers" class="block px-3 py-2 hover:bg-gray-100 rounded">آخر العروض</a></li>
        <li><a href="/about" class="block px-3 py-2 hover:bg-gray-100 rounded">من نحن</a></li>
        <li><a href="/contact" class="block px-3 py-2 hover:bg-gray-100 rounded">تواصل معنا</a></li>
      </ul>
    </nav>
  </div>

  <!-- Page content -->
  <main class="flex-1">
    {% block content %}{% endblock %}
  </main>

  <!-- Footer -->
  <footer class="border-t bg-white mt-10">
    <div class="container mx-auto py-6">
      <div class="flex items-center justify-center gap-5">
        <a href="https://wa.me/" target="_blank" aria-label="whatsapp" class="text-green-600 hover:text-green-700"> 
          <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2a10 10 0 0 0-8 16.2L3 22l3.9-1A10 10 0 1 0 12 2m0 2a8 8 0 1 1 0 16 7.9 7.9 0 0 1-4.2-1.2l-.3-.2-2.3.6.6-2.2-.2-.3A8 8 0 0 1 12 4m4.6 9.7c-.2-.1-1.3-.7-1.5-.8-.2-.1-.4-.1-.6.1-.2.2-.6.8-.7.9-.1.1-.3.2-.6.1-.3-.1-1.1-.4-2.1-1.4-.8-.8-1.4-1.7-1.5-2-.2-.3 0-.5.1-.6.1-.1.2-.3.3-.4.1-.1.1-.2.2-.3.1-.1.1-.3 0-.5 0-.1-.6-1.5-.8-2.1-.2-.6-.5-.5-.6-.5h-.5c-.2 0-.5.1-.7.3-.2.2-1 1-1 2.5s1 2.9 1.1 3.1c.1.2 2 3.1 4.8 4.3.7.3 1.2.5 1.6.6.7.2 1.3.2 1.8.1.6-.1 1.3-.6 1.5-1.1.2-.5.2-1 .1-1.1 0-.1-.2-.1-.4-.2"/></svg>
        </a>
        <a href="https://facebook.com" target="_blank" aria-label="facebook" class="text-blue-600 hover:text-blue-700">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2a10 10 0 1 0 2.5 19.7V14h-2v-2h2v-1.6c0-2 1.2-3.1 3-3.1.9 0 1.8.1 1.8.1v2h-1c-1 0-1.3.6-1.3 1.2V12h2.3l-.4 2h-2v7.7A10 10 0 0 0 12 2"/></svg>
        </a>
        <a href="https://instagram.com" target="_blank" aria-label="instagram" class="text-pink-600 hover:text-pink-700">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" viewBox="0 0 24 24" fill="currentColor"><path d="M7 2h10a5 5 0 0 1 5 5v10a5 5 0 0 1-5 5H7a5 5 0 0 1-5-5V7a5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3v10a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V7a3 3 0 0 0-3-3zm5 3.5A4.5 4.5 0 1 1 7.5 12 4.5 4.5 0 0 1 12 7.5m0 2A2.5 2.5 0 1 0 14.5 12 2.5 2.5 0 0 0 12 9.5M18 6.4a1.1 1.1 0 1 1-1.1 1.1A1.1 1.1 0 0 1 18 6.4"/></svg>
        </a>
        <a href="mailto:info@example.com" aria-label="email" class="text-gray-700 hover:text-gray-900">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" viewBox="0 0 24 24" fill="currentColor"><path d="M20 4H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2m0 4-8 5L4 8V6l8 5 8-5z"/></svg>
        </a>
      </div>
      <p class="text-center text-sm text-gray-500 mt-3">© 2025 technosham</p>
    </div>
  </footer>

  <script>
    const menuBtn = document.getElementById('menuBtn');
    const overlay = document.getElementById('mobileMenuOverlay');
    const backdrop = document.getElementById('backdrop');
    const closeMenu = document.getElementById('closeMenu');

    function openMenu() {
      overlay.classList.remove('hidden');
      menuBtn?.setAttribute('aria-expanded', 'true');
      overlay.setAttribute('aria-hidden', 'false');
      // prevent body scroll
      document.body.style.overflow = 'hidden';
    }
    function hideMenu() {
      overlay.classList.add('hidden');
      menuBtn?.setAttribute('aria-expanded', 'false');
      overlay.setAttribute('aria-hidden', 'true');
      document.body.style.overflow = '';
    }

    menuBtn?.addEventListener('click', () => {
      const isOpen = !overlay.classList.contains('hidden');
      isOpen ? hideMenu() : openMenu();
    });
    backdrop?.addEventListener('click', hideMenu);
    closeMenu?.addEventListener('click', hideMenu);
    window.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') hideMenu();
    });
  </script>
</body>
</html>
